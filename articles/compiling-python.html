<html>
    <head>
        <title>Python Building and Compiling</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>

        <div id="header">
            <h1>Building and Compiling Python Applications</h1>
        </div>

        <div id="article">
			<h2>Compiling Individual Scripts</h2>
				Run the following in the Python interpreter:</br>
				<code>import py_compile py_compile.compile("helloworld.py")</code>

				Creates a <i>.pyc</i> file, which is the bytecode generated by the Python interpreter during runtime. This can then be executed using the '<i>./helloworld.pyc</i>' command.
		</div>
		
		<div id="article">
			<h2>Compiling a Directory of Scripts</h2>
			Run the following in the Python interpreter:</br>
			<code>python -m compileall ./pythonpackage</code>

				Generates a <i>.pyc</i> file for each script in the directory.
		</div>
				
		<div id="article">
			<h2>Including Modules and Dependencies using cxfreeze</h2>
			If you run the command and looked at the output with file manager and a hex editor, you'll find the imported modules were not included. We know that Python applications can span multiple <i>.py</i> files, and those files can function as modules, but this wouldn't necessarily make an application portable without the third-party modules being present on the target system. One solution is to use cxfreeze. Install <a href="https://cx-freeze.readthedocs.io/en/latest/">cxfreeze</a> and create a <i>setup.py</i> script in the project directory.
			
			<img src="images/setup2py-script.png"></br></br>

			(The file is also in <a href="https://github.com/xerocrypt/Python">the Python repository</a> on GitHub, if you want to copy and paste.)</br></br>

			Then run the following: 
			<code>$python setup2.py build</code></br></br>

			This generates a <i>/build</i> directory containing a compiled application, several <i>.so</i> modules and a <i>library.zip</i> - the latter seems to contain bytecode files for the imported modules and dependencies.
		</div>

		<div id="article">
			<h2>References</h2>
			PYTHON SOFTWARE FOUNDATION. 2017. Python 2.7.13 Documentation. 32.10. <i>py_compile — Compile Python source files</i>. [WWW]. <a href="https://docs.python.org/2/library/py_compile.html">https://docs.python.org/2/library/py_compile.html</a>. 5th June 2017.</br></br>

			TUININGA, A. 2017. <i>Welcome to cx_Freeze’s documentation!</i>. [WWW]. <a href="https://cx-freeze.readthedocs.io/en/latest/">https://cx-freeze.readthedocs.io/en/latest/</a>. 5th June 2017.
		
        <div id="footer">Michael,  June 2017</div>
    </body>
</html>
